(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,r){e.exports=r(221)},143:function(e,t,r){},185:function(e,t,r){},218:function(e,t){},221:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(19),o=r.n(c),u=r(9);r(143),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,l=r(4),i=r.n(l),p=r(1),d=r(7),m=r(11),g=r(20),f=r(8),b=r.n(f),j=r(21),v=r(43);!function(e){e[e.None=0]="None",e[e.Pending=1]="Pending",e[e.Judge=2]="Judge",e[e.Admin=3]="Admin",e[e.Owner=4]="Owner"}(s||(s={}));var h={id:-1,name:"",email:"",company:"",role:s.Pending,isJudging:!1,tags:[]};function y(e){return Object(p.a)({},e,{isJudging:e.role!==s.Pending&&e.isJudging,role:P(e.role)})}function E(e){if(e.id&&e.name&&e.email&&e.role&&e.tags)return Object(p.a)({},e,{role:O(e.role)});throw new Error("Server returned an unexpected result.")}function O(e){switch(e){case"owner":return s.Owner;case"admin":return s.Admin;case"judge":return s.Judge;case"pending":return s.Pending;default:return s.None}}function w(e){switch(e){case s.Owner:return"Owner";case s.Admin:return"Admin";case s.Judge:return"Judge";case s.Pending:return"Pending";case s.None:return"None";default:return null}}function P(e){switch(e){case s.Owner:return"owner";case s.Admin:return"admin";case s.Judge:return"judge";case s.Pending:return"pending";case s.None:return"none";default:return null}}var x="ACCOUNT_UPDATE_USER",k="ACCOUNT_LOGIN_USER",C="ACCOUNT_LOGOUT_USER",D={role:s.None};function I(e){return{type:k,user:e}}var S=r(236),q=r(234),G=Object(j.g)(function(e){var t=function(){var t=e.location.pathname.split("/")[1];return""===t?"/":"/".concat(t)},r=n.a.useState(t()),a=Object(m.a)(r,2),c=a[0],o=a[1];n.a.useEffect(function(){o(t())},[e.location]);var u=function(r){e.history.push(r),o(t())};return n.a.createElement(q.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"sm"},n.a.createElement(v.b,{to:"/",style:{textDecoration:"none"},onClick:function(){return u("/")}},n.a.createElement(q.a.Brand,null,"HackGT Expo")),n.a.createElement(q.a.Toggle,{"aria-controls":"navigation"}),n.a.createElement(q.a.Collapse,null,function(e){var t=[];switch(e){case s.Owner:case s.Admin:t=[["Home","/"],["Judging","/judging"],["Projects","/projects"],["Admin","/admin"]];break;case s.Judge:t=[["Home","/"],["Judging","/judging"],["Projects","/projects"]];break;case s.Pending:t=[["Home","/"],["Projects","/projects"]];break;default:t=[["Projects","/"]]}return n.a.createElement(S.a,{className:"mr-auto"},t.map(function(e){return n.a.createElement(S.a.Link,{key:e[0],eventKey:e[0],active:e[1]===c,onSelect:function(){return u(e[1])}},e[0])}))}(e.account.role),e.account.role>=s.Pending?n.a.createElement(S.a,null,n.a.createElement(S.a.Link,{active:"/logout"===c,eventKey:"logout",onSelect:function(){return u("/logout")}},"Logout")):n.a.createElement(S.a,null,n.a.createElement(S.a.Link,{active:"/login"===c,eventKey:"login",onSelect:function(){return u("/login")}},"Login"))))}),T=r(63),B=r(224),N=r(233),J=r(123),A=r(225),L=Object(u.b)(function(e){return{account:e.account}},function(e){return{loginUser:function(t){return e(I(t))},updateSocket:function(){e({update:!0})}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"change-error":return Object(p.a)({},e,{error:t.error,requesting:!1});case"change-inputs":return Object(p.a)({},e,{inputs:Object(p.a)({},e.inputs,t.inputs)});case"request-start":return Object(p.a)({},e,{requesting:!0,error:{name:"",message:""}});case"request-finish":return Object(p.a)({},e,{requesting:!1,success:!1});case"request-success":return Object(p.a)({},e,{requesting:!1,success:!0});default:return e}},{requesting:!1,inputs:{email:"",password:""},error:{name:"",message:""},success:!1},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=function(){var t=Object(d.a)(i.a.mark(function t(r){var n,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),0!==a.inputs.email.length&&0!==a.inputs.password.length){t.next=4;break}return c({type:"change-error",error:{name:"Error Logging In",message:"One or more fields were left blank."}}),t.abrupt("return");case 4:return c({type:"request-start"}),t.next=7,b.a.post("/auth/login",T.stringify({email:a.inputs.email.toLowerCase(),password:a.inputs.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:if(n=t.sent,o=n.data,n.status&&o.id&&o.name&&o.email&&o.role){t.next=13;break}return c({type:"change-error",error:{name:"Error Logging In",message:"Incorrect email or password."}}),c({type:"request-finish"}),t.abrupt("return");case 13:e.loginUser({id:o.id,name:o.name,email:o.email,company:o.company,role:O(o.role),tags:o.tags}),e.updateSocket(),c({type:"request-success"});case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return a.success?n.a.createElement(j.a,{to:"/"}):n.a.createElement("div",{style:{margin:"0 auto",maxWidth:400}},n.a.createElement("h1",{style:{textAlign:"center",paddingBottom:10}},"Login"),n.a.createElement(N.a,null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"change-inputs",inputs:{email:e.target.value}})},value:a.inputs.email,type:"email",placeholder:"Email"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Control,{disabled:a.requesting,type:"password",placeholder:"Password",onChange:function(e){return c({type:"change-inputs",inputs:{password:e.target.value}})}})),n.a.createElement(J.a,{variant:"primary",type:"submit",onClick:o,block:!0},a.requesting?n.a.createElement(A.a,{animation:"border",role:"status",size:"sm"}):"Login")),a.error.name?n.a.createElement(B.a,{variant:"danger"},n.a.createElement("strong",null,a.error.name),n.a.createElement("div",null,a.error.message)):null)}),M=function(e){return new Promise(function(t){return setTimeout(t,e)})},R=Object(u.b)(null,function(e){return{logoutUser:function(){e({type:C,user:D})},updateSocket:function(){e({update:!0})}}})(function(e){var t=n.a.useState(!1),r=Object(m.a)(t,2),a=r[0],c=r[1];return n.a.useEffect(function(){!function(){var t=Object(d.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([b.a.get("/auth/logout"),M(500)]);case 2:e.logoutUser(),e.updateSocket(),c(!0);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[a]),a?n.a.createElement(j.a,{to:"/"}):n.a.createElement(A.a,{animation:"grow"})}),U=Object(u.b)(function(e){return{account:e.account}},function(e){return{loginUser:function(t){e(I(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{requesting:!1},void 0),r=Object(m.a)(t,2);r[0],r[1];return n.a.createElement("div",null,"Profile")}),F=r(226),_=r(237),Q=r(232),H=r(10);function z(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var W="UPDATE_PROJECT",V="DELETE_PROJECT",Y="FILL_PROJECTS",K="APPEND_FILL_PROJECTS";function X(e){return{type:Y,projects:e}}function $(){return function(){var e=Object(d.a)(i.a.mark(function e(t){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/projects/allProjects");case 3:if(!(r=e.sent).status){e.next=9;break}a=r.data,t(X(a)),e.next=10;break;case 9:throw new Error("API Error");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve());case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function Z(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ee="UPDATE_CATEGORY",te="DELETE_CATEGORY",re="FILL_CATEGORIES",ae="UPDATE_CRITERIA",ne="DELETE_CRITERIA",ce="FILL_CRITERIA";function oe(e){return{type:ee,categories:e}}function ue(e){return{type:re,categories:e}}function se(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var le="UPDATE_TABLE_GROUP",ie="DELETE_TABLE_GROUP",pe="FILL_TABLE_GROUPS";function de(e){return{type:pe,tableGroups:e}}function me(){return function(){var e=Object(d.a)(i.a.mark(function e(t){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/tableGroups/allTableGroups");case 3:if(!(r=e.sent).status){e.next=9;break}a=r.data,t(de(a)),e.next=10;break;case 9:throw new Error("API Error");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve());case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}var ge,fe=Object(u.b)(function(e){return{categories:e.categories,projects:e.projects,tableGroups:e.tableGroups}},function(e){return{fetchTableGroups:function(){e(me())},fetchProjects:function(){e($())},fillCategories:function(t){e(ue(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"toggle-modal":return Object(p.a)({},e,{modalOpen:!e.modalOpen});case"change-filterBy":return Object(p.a)({},e,{filterBy:t.categoryID});case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});case"change-search":return Object(p.a)({},e,{searchText:t.search});default:return e}},{requesting:!1,filterBy:0,modalOpen:!1,searchText:""},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1];n.a.useEffect(function(){!function(){var t=Object(d.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"request-start"}),t.next=3,Promise.all([e.fetchTableGroups(),e.fetchProjects(),o()]);case 3:c({type:"request-finish"});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]);var o=function(){var t=Object(d.a)(i.a.mark(function t(){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/categories/allCategories");case 2:(r=t.sent).status&&(a=r.data,e.fillCategories(a));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("div",{style:{margin:"0 auto",maxWidth:1300,display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}},n.a.createElement("h1",null,"Projects"),n.a.createElement("div",{style:{flexGrow:2}}),n.a.createElement(J.a,{style:{width:130},variant:"outline-dark",onClick:function(){return c({type:"toggle-modal"})}},"Categories"),n.a.createElement(N.a.Control,{style:{maxWidth:300,margin:"0 12px"},value:a.searchText,onChange:function(e){return c({type:"change-search",search:e.target.value})},type:"text",placeholder:"Search for projects"})),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:1300,margin:"12px auto 0"}},function(){if(Object.values(e.categories.categories).length>0&&Object.values(e.projects).length>0&&Object.values(e.tableGroups).length>0)return Object.values(e.projects).filter(function(e){return!a.filterBy||e.categoryIDs.includes(a.filterBy)}).filter(function(e){return e.name.toLowerCase().includes(a.searchText.toLowerCase())}).map(function(t){var r=t.categoryIDs.map(function(t){return n.a.createElement(F.a,{key:t,variant:"secondary",style:{margin:"0 2px"}},e.categories.categories[t].name)}),a=e.tableGroups[t.tableGroupID];return n.a.createElement("a",{key:t.id,href:t.devpostURL,target:"_blank",style:{textDecoration:"none",width:"18rem",margin:6}},n.a.createElement(_.a,{style:{height:"100%"}},n.a.createElement(_.a.Body,null,n.a.createElement(_.a.Title,{style:{color:a.color}},t.name),n.a.createElement(_.a.Subtitle,{className:"mb-2 text-muted"},"Expo ",t.expoNumber,", Table: ",a.name," ",t.tableNumber),n.a.createElement(_.a.Text,null,r))))})}())),n.a.createElement(Q.a,{show:a.modalOpen,onHide:function(){return c({type:"toggle-modal"})}},n.a.createElement(Q.a.Header,{closeButton:!0},"Filter Projects"),n.a.createElement(Q.a.Body,null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Check,{checked:0===a.filterBy,name:"prizeName",type:"radio",label:"All Projects",onChange:function(){return c({type:"change-filterBy",categoryID:0})}}),Object.values(e.categories.categories).map(function(e){return n.a.createElement(N.a.Check,{checked:a.filterBy===e.id,key:e.id,type:"radio",name:"prizeName",label:e.name,onChange:function(){return c({type:"change-filterBy",categoryID:e.id})}})})))))}),be=r(126);!function(e){e.Pending="pending",e.Assigned="assigned",e.Submitted="submitted",e.Missing="missing",e.Busy="busy",e.Skipped="skipped",e.Started="started"}(ge||(ge={}));var je={id:0,name:"",devpostURL:"",expoNumber:0,tableGroupID:0,tableNumber:0,categoryIDs:[],tags:[]},ve={id:-1,name:"",shortcode:"",color:""},he="REQUEST_START",ye="REQUEST_FINISH";function Ee(){return{type:he}}function Oe(){return{type:ye}}var we=r(85),Pe=r(125),xe=r.n(Pe),ke="FILL_BALLOTS",Ce="UPDATE_BALLOTS",De="DELETE_BALLOTS",Ie="CLEAR_BALLOTS",Se="QUEUE_PROJECT",qe="QUEUED_PROJECT",Ge="SCORE_PROJECT",Te="GOT_PROJECT",Be="BUSY_PROJECT",Ne="SKIP_PROJECT",Je="MISSING_PROJECT";function Ae(e){return{type:ke,ballots:e}}function Le(){return{type:Ie}}var Me={dJudgeQueues:{},dJudgeProjectBallotsMap:{},dProjectScores:{}};var Re;r(185);!function(e){e[e.Loading=0]="Loading",e[e.FindProject=1]="FindProject",e[e.JudgeProject=2]="JudgeProject",e[e.NextProject=3]="NextProject",e[e.NoProject=4]="NoProject"}(Re||(Re={}));var Ue=Object(u.b)(function(e){return{account:e.account,ballots:e.ballots,categories:e.categories,tableGroups:e.tableGroups}},function(e){return{fetchTableGroups:function(){e(me())},fetchCategories:function(){e(function(){var e=Object(d.a)(i.a.mark(function e(t){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/categories/allCategoriesCriteria");case 3:(r=e.sent).status&&(a=r.data,t(ue(a))),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())},updateBallots:function(t){e(function(e){return{type:Ce,ballots:e}}(t))},startBallots:function(t,r){e(function(e,t){return function(){var r=Object(d.a)(i.a.mark(function r(a){var n,c;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.post("/api/projects/startProject",{userID:e,projectID:t});case 3:(n=r.sent).status&&(c=n.data,a(Ae(c))),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),r.abrupt("return",Promise.resolve());case 11:case"end":return r.stop()}},r,null,[[0,7]])}));return function(e){return r.apply(this,arguments)}}()}(t,r))},clearBallots:function(){e(Le())},requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())},missingBallots:function(t,r){e(function(e,t){return function(){var r=Object(d.a)(i.a.mark(function r(a){var n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.post("/api/projects/missing",{userID:e,projectID:t});case 3:(n=r.sent).status&&(n.data,a(Le())),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),r.abrupt("return",Promise.resolve());case 11:case"end":return r.stop()}},r,null,[[0,7]])}));return function(e){return r.apply(this,arguments)}}()}(t,r))},busyBallots:function(t,r){e(function(e,t){return function(){var r=Object(d.a)(i.a.mark(function r(a){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.post("/api/projects/busy",{userID:e,projectID:t});case 3:r.sent.status&&a(Le()),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),r.abrupt("return",Promise.resolve());case 11:case"end":return r.stop()}},r,null,[[0,7]])}));return function(e){return r.apply(this,arguments)}}()}(t,r))},skipBallots:function(t,r){e(function(e,t){return function(){var r=Object(d.a)(i.a.mark(function r(a){var n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.post("/api/projects/skip",{userID:e,projectID:t});case 3:(n=r.sent).status&&(n.data,a(Le())),r.next=11;break;case 7:return r.prev=7,r.t0=r.catch(0),console.log(r.t0),r.abrupt("return",Promise.resolve());case 11:case"end":return r.stop()}},r,null,[[0,7]])}));return function(e){return r.apply(this,arguments)}}()}(t,r))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"update-criteria":return Object(p.a)({},e,{criteria:t.criteria});case"update-current-project":return Object(p.a)({},e,{currentProject:t.project});case"update-judging-state":return Object(p.a)({},e,{judgingState:t.state});default:return e}},{criteria:{},currentProject:void 0,judgingState:Re.Loading},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=function(e){if(Object.values(e).length>0){var t=Object.values(e)[0];t.status===ge.Started?c({type:"update-judging-state",state:Re.JudgeProject}):t.status===ge.Assigned&&c({type:"update-judging-state",state:Re.FindProject})}else c({type:"update-current-project",project:je}),c({type:"update-judging-state",state:Re.NoProject})},u=function(){var t=Object(d.a)(i.a.mark(function t(r){var a,n,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/api/projects/nextProject",{userID:r});case 2:a=t.sent,console.log(a.data),Object.values(a.data.ballots).length>0&&(n=a.data.ballots,u=a.data.project,e.updateBallots(n),c({type:"update-current-project",project:Object.values(u)[0]})),o(a.data.ballots);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();n.a.useEffect(function(){e.fetchTableGroups(),e.fetchCategories(),u(e.account.id)},[]),n.a.useEffect(function(){o(e.ballots)},[e.ballots]);var s=function(){return n.a.createElement("div",{style:{marginTop:20}},n.a.createElement(be.a,null,n.a.createElement(J.a,{onClick:function(){e.skipBallots(e.account.id,a.currentProject.id),c({type:"update-judging-state",state:Re.NextProject}),c({type:"update-current-project",project:je})},variant:"outline-danger"},"Skip")))};if(0===Object.values(e.tableGroups).length||!a.currentProject||0===Object.values(e.categories.criteria).length)return console.log("wow"),null;switch(a.judgingState){case Re.FindProject:return a.currentProject&&0!==a.currentProject.id?n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h6",null,"Next Project"),n.a.createElement("h1",null,a.currentProject.name),n.a.createElement("h3",null,"At ",n.a.createElement("span",{style:{color:e.tableGroups[a.currentProject.tableGroupID].color}},e.tableGroups[a.currentProject.tableGroupID].name)," ",a.currentProject.tableNumber),n.a.createElement(J.a,{style:{marginTop:20,padding:"10px 30px",fontSize:25},variant:"success",onClick:function(){e.startBallots(e.account.id,a.currentProject.id)}},"I'm Here"),s()):null;case Re.JudgeProject:return function(){console.log(e.categories.criteria,e.ballots);var t=function(){var t=Object(d.a)(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.values(e.ballots).reduce(function(e,t){return e[t.id]=t.score,e},{}),t.next=3,b.a.post("api/projects/scoreProject",{ballots:r});case 3:t.sent.status&&(e.clearBallots(),c({type:"update-judging-state",state:Re.NextProject}),c({type:"update-current-project",project:je}));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return a.currentProject&&0!==a.currentProject.id?n.a.createElement("div",{style:{maxWidth:560,textAlign:"center",margin:"0 auto"}},n.a.createElement("h1",null,a.currentProject.name),n.a.createElement("h6",null,n.a.createElement("span",{style:{color:e.tableGroups[a.currentProject.tableGroupID].color}},e.tableGroups[a.currentProject.tableGroupID].name)," ",a.currentProject.tableNumber),Object.values(e.ballots).map(function(t){if(!t.criteriaID)return null;var r,a,c,o=e.categories.categories[e.categories.criteria[t.criteriaID].categoryID],u=e.categories.criteria[t.criteriaID];return n.a.createElement(_.a,{key:t.id,style:{margin:"12px 0"}},n.a.createElement(_.a.Body,null,n.a.createElement(_.a.Title,null,u.name),n.a.createElement(_.a.Subtitle,null,o.name),n.a.createElement(_.a.Text,{style:{textAlign:"left",whiteSpace:"pre-wrap"}},u.rubric),(r=t.id,a=u.minScore,c=u.maxScore,n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"row"}},a,n.a.createElement("input",{type:"range",min:a,max:c,className:"slider",value:e.ballots[r].score,onChange:function(t){e.updateBallots(Object(H.a)({},r,Object(p.a)({},e.ballots[r],{score:+t.target.value})))}}),c),n.a.createElement("div",null,n.a.createElement("strong",null,e.ballots[r].score))))))}),n.a.createElement(J.a,{size:"lg",variant:"success",onClick:function(){return t()}},"Submit Scores"),s()):null}();case Re.NextProject:return function(){var t=["You are out of control!","Absolutely incredible!","Congratulations!","You're on a roll!","Keep it going!","Just a couple hundred projects left to go!","Great Job"];return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("h3",null,t[Math.floor(Math.random()*t.length)]),n.a.createElement("p",null,"Your scores have been submitted!"),n.a.createElement(J.a,{onClick:function(){return u(e.account.id)}},"Next Project"))}();case Re.NoProject:return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("p",null,"There are currently no projects assigned to you."),n.a.createElement(J.a,{onClick:function(){return u(e.account.id)}},"Refresh"))}return null}),Fe=Object(j.g)(function(e){var t=function(){var t=e.location.pathname.split("/")[2];return t?"/".concat(t):"/"},r=n.a.useState(t()),a=Object(m.a)(r,2),c=a[0],o=a[1];n.a.useEffect(function(){o(t())});var u=function(r){e.history.push(r),o(t())};return n.a.createElement(S.a,{variant:"tabs",activeKey:c},n.a.createElement(S.a.Item,null,n.a.createElement(S.a.Link,{eventKey:"/",onClick:function(){return u("".concat(Gt))}},"Projects")),n.a.createElement(S.a.Item,null,n.a.createElement(S.a.Link,{eventKey:"/categories",onClick:function(){return u("".concat(Gt,"/categories"))}},"Categories")),n.a.createElement(S.a.Item,null,n.a.createElement(S.a.Link,{eventKey:"/users",onClick:function(){return u("".concat(Gt,"/users"))}},"Users")))}),_e="ADD_USER",Qe="DELETE_USER",He="UPDATE_USER",ze="FILL_USERS";function We(e){return{type:He,user:e}}function Ve(){return function(){var e=Object(d.a)(i.a.mark(function e(t){var r,a,n,c,o,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/users/allUsers");case 3:if(!(r=e.sent).status){e.next=12;break}for(a=r.data,n={},c=0,o=Object.values(a);c<o.length;c++)u=o[c],n[u.id]=Object(p.a)({},u,{role:O(u.role)});t({type:ze,users:n}),e.next=13;break;case 12:throw new Error("API Error");case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve());case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}()}var Ye=r(227),Ke=r(238),Xe=r(127),$e=Object(u.b)(function(e){return{account:e.account,companies:e.companies}},function(e){return{updateUser:function(t){e(We(t))},requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"update-user":return Object(p.a)({},e,{user:t.user});default:return e}},{requesting:!1,user:e.user},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=e.user;n.a.useEffect(function(){c({type:"update-user",user:e.user})},[o]);var u=function(){var t=Object(d.a)(i.a.mark(function t(){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.requestStart(),t.next=3,b.a.post("/api/users/update",{user:y(a.user)});case 3:(r=t.sent).status&&(n=r.data,e.requestFinish(),e.closeModal(),e.updateUser(E(n)));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return n.a.createElement(Q.a,{show:e.modalOpen,onHide:e.closeModal},n.a.createElement(Q.a.Header,{closeButton:!0},n.a.createElement(Q.a.Title,null,"Edit User ",e.user.id)),n.a.createElement(Q.a.Body,null,n.a.createElement(N.a,null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Name"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"update-user",user:Object(p.a)({},a.user,{name:e.target.value})})},value:a.user.name,type:"text",placeholder:"Name"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Permission Level"),n.a.createElement(Ye.a,null,n.a.createElement(Ke.a,{name:"role",onChange:function(e){return c({type:"update-user",user:Object(p.a)({},a.user,{role:e})})},type:"radio",value:a.user.role},n.a.createElement(Xe.a,{disabled:a.requesting,value:s.Pending},"Pending"),n.a.createElement(Xe.a,{disabled:a.requesting,value:s.Judge},"Judge"),n.a.createElement(Xe.a,{disabled:a.requesting,value:s.Admin},"Admin"),n.a.createElement(Xe.a,{disabled:a.requesting,value:s.Owner},"Owner")))),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Company/Group Name"),n.a.createElement(N.a.Control,{as:"select",disabled:a.requesting,onChange:function(e){return c({type:"update-user",user:Object(p.a)({},a.user,{company:e.target.value})})},value:a.user.company,type:"text",placeholder:"Company"},e.companies.map(function(e){return n.a.createElement("option",{key:e},e)}))),n.a.createElement(N.a.Group,null,n.a.createElement(J.a,{variant:"outline-danger"},"Reset Password")))),n.a.createElement(Q.a.Footer,null,n.a.createElement(J.a,{variant:"secondary",onClick:e.closeModal},"Close"),n.a.createElement(J.a,{variant:"primary",onClick:u},"Save Changes")))}),Ze=Object(u.b)(function(e){return{requesting:e.requesting}},function(e){return{requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())},updateUser:function(t){e(We(t))}}})(function(e){var t,r=function(){var t=Object(d.a)(i.a.mark(function t(r,a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.requestStart(),a.role=s.Judge,a.isJudging=!0,t.next=6,b.a.post("/api/users/update",{user:y(a)});case 6:(n=t.sent).status&&(e.updateUser(E(n.data)),e.requestFinish());case 8:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),a=function(){var t=Object(d.a)(i.a.mark(function t(r,a,n){var c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.requestStart(),a.isJudging=n,t.next=5,b.a.post("/api/users/update",{user:y(a)});case 5:(c=t.sent).status&&(e.updateUser(E(c.data)),e.requestFinish());case 7:case"end":return t.stop()}},t)}));return function(e,r,a){return t.apply(this,arguments)}}();return n.a.createElement(_.a,{key:e.user.id,style:{width:"18rem",margin:"12px"}},n.a.createElement(_.a.Body,null,n.a.createElement(_.a.Title,null,e.user.name),n.a.createElement(_.a.Subtitle,{className:"mb-2 text-muted"},w(e.user.role),n.a.createElement(F.a,{variant:e.user.isJudging?"success":"light",style:{margin:5}},e.user.isJudging?"Included In Judging":"Excluded From Judging")),n.a.createElement(_.a.Text,null,e.user.email,n.a.createElement("br",null),e.user.company,n.a.createElement("br",null),e.user.tags&&e.user.tags.length>0?n.a.createElement("span",null,e.user.tags):n.a.createElement("span",null,"No tags")),n.a.createElement(be.a,null,n.a.createElement(J.a,{disabled:e.requesting,onClick:function(t){return e.openModal(t,e.user)},size:"sm",variant:"primary"},"Edit"),(t=e.user).role===s.Pending?n.a.createElement(J.a,{disabled:e.requesting,onClick:function(t){return r(t,e.user)},size:"sm",variant:"outline-success"},"Approve"):t.isJudging?n.a.createElement(J.a,{disabled:e.requesting,onClick:function(t){return a(t,e.user,!1)},size:"sm",variant:"outline-danger"},"Exclude From Judging"):n.a.createElement(J.a,{disabled:e.requesting,onClick:function(t){return a(t,e.user,!0)},size:"sm",variant:"outline-success"},"Include In Judging"))))}),et="UPDATE_COMPANIES";function tt(){return function(){var e=Object(d.a)(i.a.mark(function e(t){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/categories/companies");case 3:if(!(r=e.sent).status){e.next=9;break}a=r.data,t({type:et,companies:a}),e.next=10;break;case 9:throw new Error("API Error");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve());case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}var rt=Object(u.b)(function(e){return{account:e.account,requesting:e.requesting,users:e.users}},function(e){return{fetchCompanies:function(){e(tt())},fetchUsers:function(){e(Ve())},requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())}}})(function(e){var t={newUser:h,modalOpen:!1,modalUser:h},r=n.a.useReducer(function(e,t){switch(t.type){case"modal-open":return Object(p.a)({},e,{modalOpen:!0,modalUser:t.user});case"modal-close":return Object(p.a)({},e,{modalOpen:!1});case"change-newUser":return Object(p.a)({},e,{newUser:Object(p.a)({},e.newUser,t.newUser)});default:return e}},t,void 0),a=Object(m.a)(r,2),c=a[0],o=a[1];n.a.useEffect(function(){u(),e.fetchCompanies()},[]);var u=function(){var t=Object(d.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.requestStart(),e.fetchUsers(),e.requestFinish();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object.keys(e.users).length>0?n.a.createElement("div",{style:{margin:"12px"}},n.a.createElement("h1",{style:{textAlign:"center"}},"Users"),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:1300,margin:"12px auto 0"}},function(){var t=function(e,t){e.preventDefault(),o({type:"modal-open",user:t})};return Object.values(e.users).map(function(e){return n.a.createElement(Ze,{key:e.id,user:e,openModal:t})})}(),n.a.createElement($e,{modalOpen:c.modalOpen,closeModal:function(){return o({type:"modal-close"})},user:c.modalUser}))):e.requesting?n.a.createElement("div",null,"Fetching users."):n.a.createElement("div",null,"Error fetching users.")}),at=r(128),nt=r.n(at),ct=["Submission Title","Submission Url","Plain Description","Built With","Desired Prizes"],ot=Object(u.b)(function(e){return{tableGroups:e.tableGroups,categories:e.categories}},function(e){return{fillCategories:function(t){e(ue(t))},updateCategory:function(t){e(oe(t))},fillProjects:function(t){e(X(t))},clearBallots:function(){e(Le())}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"use-self-assign":return Object(p.a)({},e,{useSelfAssign:t.enabled});case"adjust-totals":return Object(p.a)({},e,{inputNumberExpos:t.numberExpos>0?t.numberExpos:1,totalProjectsToAccountFor:Math.ceil(e.csv.length/t.numberExpos)});case"adjust-counts":var r=Object(p.a)({},e.inputTableGroups,t.tableGroups);return Object(p.a)({},e,{inputTableGroups:r,totalProjectsAccountedFor:Object.values(r).reduce(function(e,t){return e+t},0)});case"update-csv":return Object(p.a)({},e,{csv:t.csv,csvHeaderIndicies:t.csvHeaderIndicies,totalProjectsToAccountFor:Math.ceil(t.csv.length/e.inputNumberExpos)});case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{csv:[],csvHeaderIndicies:{},totalProjectsToAccountFor:-1,totalProjectsAccountedFor:0,inputNumberExpos:1,inputTableGroups:{},requesting:!1,useSelfAssign:!1},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=e.tableGroups;n.a.useEffect(function(){for(var t={},r=0,a=Object.values(e.tableGroups);r<a.length;r++)t[a[r].id]=10;c({type:"adjust-counts",tableGroups:t})},[o]),n.a.useEffect(function(){!function(){var t=Object(d.a)(i.a.mark(function t(){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/categories/allCategoriesCriteria");case 2:(r=t.sent).status&&(a=r.data,e.fillCategories(a));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[]);var u=function(){var t=Object(d.a)(i.a.mark(function t(){var r,n,o,u,s,l,d,m,g,f,j,v,h,y,E,O,w,P,x,k,C,D,I,S,q,G,T,B,N,J,A,L,M,R,U,F,_,Q,H,z,W,V,Y,K,X,$,Z,ee,te,re,ae,ne,ce,oe,ue,se;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"request-start"}),e.fillProjects({}),r=new Set,n=!0,o=!1,u=void 0,t.prev=6,s=a.csv[Symbol.iterator]();case 8:if(n=(l=s.next()).done){t.next=35;break}if(d=l.value,!((m=d[a.csvHeaderIndicies["Desired Prizes"]]).length>0)){t.next=32;break}for(g=m.split(","),f=!0,j=!1,v=void 0,t.prev=16,h=g[Symbol.iterator]();!(f=(y=h.next()).done);f=!0)E=y.value,r.add(E.trim());t.next=24;break;case 20:t.prev=20,t.t0=t.catch(16),j=!0,v=t.t0;case 24:t.prev=24,t.prev=25,f||null==h.return||h.return();case 27:if(t.prev=27,!j){t.next=30;break}throw v;case 30:return t.finish(27);case 31:return t.finish(24);case 32:n=!0,t.next=8;break;case 35:t.next=41;break;case 37:t.prev=37,t.t1=t.catch(6),o=!0,u=t.t1;case 41:t.prev=41,t.prev=42,n||null==s.return||s.return();case 44:if(t.prev=44,!o){t.next=47;break}throw u;case 47:return t.finish(44);case 48:return t.finish(41);case 49:O=Object.values(e.categories.categories).reduce(function(e,t){return t.generated||e.push(t.name),e},[]),w=0,P=Array.from(r);case 51:if(!(w<P.length)){t.next=75;break}for(x=P[w],k=!0,C=!1,D=void 0,t.prev=56,I=O[Symbol.iterator]();!(k=(S=I.next()).done);k=!0)S.value===x&&r.delete(x);t.next=64;break;case 60:t.prev=60,t.t2=t.catch(56),C=!0,D=t.t2;case 64:t.prev=64,t.prev=65,k||null==I.return||I.return();case 67:if(t.prev=67,!C){t.next=70;break}throw D;case 70:return t.finish(67);case 71:return t.finish(64);case 72:w++,t.next=51;break;case 75:return t.next=77,b.a.delete("/api/categories/deleteGenerated");case 77:if(t.sent){t.next=80;break}return t.abrupt("return");case 80:return q=Array.from(r).map(function(e){return{name:e,isDefault:!1,generated:!0,description:"Sponsor prize generated when projects were uploaded. Do not remove. - ".concat(e),company:"",criteria:[]}}),t.next=83,b.a.post("/api/categories/update",{categories:q});case 83:if((G=t.sent).status){t.next=86;break}return t.abrupt("return");case 86:if(T=G.data,B=Object.values(e.categories.categories).reduce(function(e,t){return t.generated||(e[t.id]=t),e},{}),console.log("nongenerated",B,T),N=Object(p.a)({},B,T),e.fillCategories(Object(p.a)({},B,T)),J=Object.values(N).reduce(function(e,t){return e[t.name]=t,e},{}),A=Object.values(N).reduce(function(e,t){return t.isDefault&&e.push(t.id),e},[]),L=[],M=Object.values(e.tableGroups),R=M.map(function(e){return e.name}),U={},!a.useSelfAssign){t.next=115;break}F=0;case 99:if(!(F<a.csv.length)){t.next=115;break}if(_=a.csv[F],!(Q=_[a.csvHeaderIndicies["Table Number"]])){t.next=112;break}if(H=Q.split(" "),console.log("wowowow",H),3===H.length){t.next=107;break}throw new Error("Need 3 parts: expo, group, number");case 107:if(!U[Q]){t.next=109;break}throw new Error("Duplicate table");case 109:if(R.includes(H[1])){t.next=111;break}throw new Error("Invalid table group name");case 111:U[Q]=F;case 112:F++,t.next=99;break;case 115:for(console.log(U),z=Object.values(U),W=0,V=1;V<=a.inputNumberExpos;V++)for(Y=0,K=M;Y<K.length;Y++)for(X=K[Y],$=1;$<=a.inputTableGroups[X.id];$++)if(Z="".concat(V," ").concat(X.name," ").concat($),void 0===U[Z]){for(;z.includes(W);)W++;a.csv[W]&&(U[Z]=W,z.push(W),W++)}else console.log("thegame",Z);for(console.log(U,z.sort(function(e,t){return e-t})),ee=Object.values(e.tableGroups).reduce(function(e,t){return e[t.name]=t,e},{}),te=0,re=Object.keys(U);te<re.length;te++)ae=re[te],ne=a.csv[U[ae]],ce=ae.split(" "),oe=ne[a.csvHeaderIndicies["Desired Prizes"]].split(",").reduce(function(e,t){return(t=t.trim())&&e.push(J[t.trim()].id),e},[]),L.push({name:ne[a.csvHeaderIndicies["Submission Title"]],devpostURL:ne[a.csvHeaderIndicies["Submission Url"]],expoNumber:parseInt(ce[0]),tableGroupID:ee[ce[1]].id,tableNumber:parseInt(ce[2]),categoryIDs:oe.concat(A),tags:[]});return console.log(L),t.next=125,b.a.post("/api/projects/upload",{projects:L});case 125:(ue=t.sent).status&&(se=ue.data,console.log(se),e.fillProjects(se),e.clearBallots(),e.closeModal(),c({type:"request-finish"}));case 127:case"end":return t.stop()}},t,null,[[6,37,41,49],[16,20,24,32],[25,,27,31],[42,,44,48],[56,60,64,72],[65,,67,71]])}));return function(){return t.apply(this,arguments)}}(),s=function(){c({type:"update-csv",csv:[],csvHeaderIndicies:{}}),e.closeModal()};return n.a.createElement(Q.a,{show:e.modalOpen,onHide:s},n.a.createElement(Q.a.Header,{closeButton:!0},n.a.createElement(Q.a.Title,null,"Upload Projects")),n.a.createElement(Q.a.Body,null,n.a.createElement(N.a,null,function(){var e=function(e){c({type:"update-csv",csv:[],csvHeaderIndicies:{}}),console.log(e)},t=function(t){var r=t.data;if(r.length<1)return e("Empty");if(1===r.length)return e("No content");for(var a=r[0],n={},o=0,u=ct;o<u.length;o++){var s=u[o],l=a.indexOf(s);if(-1===l)return e("Required headers missing");n[s]=l}n["Table Number"]=a.indexOf("Table Number"),r.splice(0,1),c({type:"update-csv",csv:r,csvHeaderIndicies:n})};return n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Devpost CSV"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(r){var a=r.target.files;if(1!==a.length)return e("No file or too many files.");var n=a[0];if(!n.name.endsWith(".csv"))return e("Not CSV");nt.a.parse(n,{complete:t,skipEmptyLines:!0})},type:"file"}),n.a.createElement(N.a.Text,{className:"text-muted"},"Please download the CSV containing all projects from Devpost and upload it here."))}(),function(){if(a.csv.length>0)return n.a.createElement("div",null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Number of Expos"),n.a.createElement(N.a.Control,{disabled:a.requesting,name:"numberExpos",onChange:function(e){c({type:"adjust-totals",numberExpos:e.target.value})},type:"number",value:""+a.inputNumberExpos}),n.a.createElement(N.a.Text,{className:"text-muted"},"How many expos will there be at this event?")),Object.values(e.tableGroups).map(function(e){return n.a.createElement(N.a.Group,{key:e.id},n.a.createElement(N.a.Label,null,"# ",n.a.createElement("strong",null,e.name)," Tables"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(t){c({type:"adjust-counts",tableGroups:Object(H.a)({},e.id,+t.target.value)})},type:"number",value:""+a.inputTableGroups[e.id]}),n.a.createElement(N.a.Text,{className:"text-muted"},"How many tables are available in the ",e.name," group in each expo?"))}),n.a.createElement("p",null,"Projects Accounted For: ",a.totalProjectsAccountedFor," / ",a.totalProjectsToAccountFor),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Check,{disabled:a.requesting,onChange:function(e){return c({type:"use-self-assign",enabled:"on"===e.target.value})},type:"checkbox",label:"Use Table Self-Assign"}),n.a.createElement(N.a.Text,{className:"text-muted"},'Check if you want to use the "Table Number" column in the Devpost submission.')))}())),n.a.createElement(Q.a.Footer,null,n.a.createElement(J.a,{disabled:a.requesting,onClick:s,variant:"secondary"},"Close & Discard"),n.a.createElement(J.a,{disabled:a.requesting,onClick:u,variant:"primary"},"Upload Projects")))}),ut=r(122),st=function(e){var t=function(t){var r=t.target;e.updateTableGroup(Object(p.a)({},e.tableGroup,Object(H.a)({},r.name,r.value)))};return n.a.createElement("div",{style:{marginBottom:12}},n.a.createElement("hr",null),n.a.createElement(N.a.Row,null,n.a.createElement(N.a.Group,{as:ut.a,md:"7"},n.a.createElement(N.a.Label,null,"Table Group Name"),n.a.createElement(N.a.Control,{disabled:e.requesting,name:"name",onChange:t,value:e.tableGroup.name,placeholder:"Name"})),n.a.createElement(N.a.Group,{as:ut.a,md:"2"},n.a.createElement(N.a.Label,null,"Shortcode"),n.a.createElement(N.a.Control,{disabled:e.requesting,name:"shortcode",onChange:t,value:e.tableGroup.shortcode,placeholder:"Code"})),n.a.createElement(N.a.Group,{as:ut.a,md:"3"},n.a.createElement(N.a.Label,null,"Color"),n.a.createElement(N.a.Control,{disabled:e.requesting,name:"color",onChange:t,placeholder:"#000000",style:{backgroundColor:/^#[0-9A-F]{6}$/i.test(e.tableGroup.color)?e.tableGroup.color:"",color:/^#[0-9A-F]{6}$/i.test(e.tableGroup.color)?"#FFFFFF":"#000000"},value:e.tableGroup.color}))),n.a.createElement(J.a,{disabled:e.requesting,size:"sm",variant:"outline-danger",onClick:function(){return e.deleteTableGroup(e.tableGroup.id)}},"Delete"))};function lt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var it,pt=Object(u.b)(function(e){return{tableGroups:e.tableGroups}},function(e){return{fillTableGroups:function(t){e(de(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"increase-new-id":return Object(p.a)({},e,{currentNewID:e.currentNewID-1});case"update-table-group":return Object(p.a)({},e,{tableGroups:t.tableGroups});case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{currentNewID:-1,tableGroups:{},requesting:!1},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=e.tableGroups;n.a.useEffect(function(){c({type:"update-table-group",tableGroups:e.tableGroups})},[o]);var u=function(){var t=Object(d.a)(i.a.mark(function t(){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"request-start"}),t.next=3,b.a.post("/api/tableGroups/update",{tableGroups:Object.values(a.tableGroups)});case 3:(r=t.sent).status&&(n=r.data,e.fillTableGroups(n),e.closeModal(),c({type:"request-finish"}));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return n.a.createElement(Q.a,{show:e.modalOpen,onHide:e.closeModal},n.a.createElement(Q.a.Header,{closeButton:!0},n.a.createElement(Q.a.Title,null,"Manage Table Groups")),n.a.createElement(Q.a.Body,null,n.a.createElement("p",null,"Table groups are how your expo will be organized. Table groups can be a color, some fancy name, or a room number. You must have at least one table group in order to upload projects. "),n.a.createElement(N.a,null,function(){var e=function(e){c({type:"update-table-group",tableGroups:Object(p.a)({},a.tableGroups,Object(H.a)({},e.id,e))})},t=function(e){var t=a.tableGroups,r=(t[e],Object(g.a)(t,[e].map(lt)));c({type:"update-table-group",tableGroups:r})};return Object.values(a.tableGroups).length>0?Object.values(a.tableGroups).map(function(r){return n.a.createElement(st,{key:r.id,tableGroup:r,requesting:a.requesting,updateTableGroup:e,deleteTableGroup:t})}):n.a.createElement("div",null,"No Table Groups")}()),n.a.createElement(J.a,{disabled:a.requesting,variant:"outline-primary",onClick:function(){var e=Object(p.a)({},ve,{id:a.currentNewID});c({type:"increase-new-id"}),c({type:"update-table-group",tableGroups:Object(p.a)({},a.tableGroups,Object(H.a)({},e.id,e))})}},"New Table Group")),n.a.createElement(Q.a.Footer,null,n.a.createElement(J.a,{disabled:a.requesting,onClick:e.closeModal,variant:"secondary"},"Close"),n.a.createElement(J.a,{disabled:a.requesting,onClick:u,variant:"primary"},"Save Changes")))}),dt=Object(u.b)(null,function(e){return{fillProjects:function(t){e(X(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{requesting:!1},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=function(){var e=Object(d.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c({type:"request-start"});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return n.a.createElement(Q.a,{show:e.modalOpen,onHide:e.closeModal},n.a.createElement(Q.a.Header,{closeButton:!0},n.a.createElement(Q.a.Title,null,"Add Project")),n.a.createElement(Q.a.Body,null,n.a.createElement(N.a,null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Devpost CSV"),n.a.createElement(N.a.Control,{disabled:a.requesting,type:"file"}),n.a.createElement(N.a.Text,{className:"text-muted"},"Please download the CSV containing all projects from Devpost and upload it here.")))),n.a.createElement(Q.a.Footer,null,n.a.createElement(J.a,{disabled:a.requesting,onClick:e.closeModal,variant:"secondary"},"Close"),n.a.createElement(J.a,{disabled:a.requesting,onClick:o,variant:"primary"},"Save Changes")))}),mt=r(235),gt=r(230),ft=r(121),bt=r(228),jt=r(229),vt=Object(u.b)(function(e){return{categories:e.categories,ballots:e.ballots}})(function(e){var t=n.a.useRef(n.a.createRef());return e.project?n.a.createElement("div",{key:e.project.id+" "+e.userID,onClick:e.onClick,onContextMenu:e.onContextMenu},n.a.createElement("div",{ref:t.current,key:e.project.id+" "+e.userID,id:e.project.id+" "+e.userID,className:"dot",style:{margin:2,width:40,height:40,background:e.tableGroup.color,opacity:e.dimmed?.5:1,borderRadius:"50%",color:"white",textAlign:"center",lineHeight:"40px",filter:e.selectedProject===e.project.id+" "+e.userID?"invert(30%)":"",userSelect:"none",MozUserSelect:"none",cursor:"pointer"},onClick:function(){return e.handleSelectedProjectChange(""+e.project.id)}},n.a.createElement("div",{style:{display:"grid",alignItems:"center",justifyContent:"center",width:40,height:40}},e.loading?n.a.createElement(A.a,{animation:"border",style:{gridRow:1,gridColumn:1}}):null,n.a.createElement("strong",{className:"dot",style:{gridRow:1,gridColumn:1,lineHeight:.9,marginBottom:8}},n.a.createElement("span",{style:{fontSize:10}},e.project.expoNumber),n.a.createElement("br",null),e.tableGroup.shortcode,e.project.tableNumber))),function(){var r={};if(e.ballots.dProjectScores[e.project.id]&&Object.values(e.ballots.dProjectScores[e.project.id]).length>0&&Object.values(e.categories.criteria).length>0)for(var a=0,c=Object.values(e.ballots.dProjectScores[e.project.id]);a<c.length;a++){var o=c[a],u=!0,s=!1,l=void 0;try{for(var i,p=o[Symbol.iterator]();!(u=(i=p.next()).done);u=!0){var d=i.value;r[e.categories.criteria[d.criteriaID].categoryID]||(r[e.categories.criteria[d.criteriaID].categoryID]={}),r[e.categories.criteria[d.criteriaID].categoryID][d.userID]||(r[e.categories.criteria[d.criteriaID].categoryID][d.userID]=0),r[e.categories.criteria[d.criteriaID].categoryID][d.userID]+=d.score}}catch(m){s=!0,l=m}finally{try{u||null==p.return||p.return()}finally{if(s)throw l}}}return n.a.createElement(bt.a,{show:e.selectedProject===e.project.id+" "+e.userID,target:t.current.current},n.a.createElement(jt.a,{id:"popover"+e.project.id},n.a.createElement("strong",null,e.project.name),n.a.createElement("p",null,n.a.createElement("a",{href:e.project.devpostURL,target:"_blank"},e.project.devpostURL),n.a.createElement("br",null),e.project.categoryIDs.reduce(function(t,r){if(e.categories.categories[r]){var a=e.categories.categories[r].generated?"secondary":e.categories.categories[r].isDefault?"success":"primary";t.push(n.a.createElement(F.a,{key:r,variant:a,style:{margin:"0 2px"}},e.categories.categories[r].name))}return t},[])),n.a.createElement("p",null,"Health: ",e.project.health),Object.keys(r).length>0?Object.keys(r).map(function(t){var a=Object.values(r[+t]);return n.a.createElement("p",{style:{margin:0},key:t},e.categories.categories[+t].name," - AVG: ",a.reduce(function(e,t){return e+t},0)/a.length," [",a.join(", "),"]")}):"No Scores"))}()):null}),ht=function(e){return n.a.createElement("div",{className:"dot",style:{display:"inline-block",margin:2,minWidth:40,width:40,height:40,borderRadius:"50%",borderWidth:2,lineHeight:"40px",userSelect:"none",MozUserSelect:"none",cursor:"pointer",opacity:.5,borderStyle:e.solid?"solid":"dashed"}})};!function(e){e[e.Location=0]="Location",e[e.AverageScore=1]="AverageScore",e[e.ProjectHealth=2]="ProjectHealth",e[e.TimesJudged=3]="TimesJudged"}(it||(it={}));var yt,Et=Object(u.b)(function(e){return{account:e.account,ballots:e.ballots,categories:e.categories,tableGroups:e.tableGroups,projects:e.projects,users:e.users}},function(e){return{queueProject:function(t,r){e(function(e,t){return{type:"QUEUE_PROJECT",result:{userID:t,projectID:e}}}(t,r))},queueProjectEmit:function(t,r){e(function(e,t){return console.log("wow",e,t),{event:"project-queue",emit:!0,payload:{eventID:xe()(),projectID:e,userID:t}}}(t,r))},subscribeQueueProject:function(){e({event:"project-queue",handle:Se})},subscribeQueuedProject:function(){e({event:"project-queued",handle:qe})},subscribeGotProject:function(){e({event:"project-got",handle:Te})},subscribeScoreProject:function(){e({event:"project-score",handle:Ge})},subscribeSkipProject:function(){e({event:"project-skip",handle:Ne})},subscribeMissingProject:function(){e({event:"project-missing",handle:Je})},subscribeBusyProject:function(){e({event:"project-busy",handle:Be})},unsubscribeAll:function(){e({event:"empty",leave:!0})},requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"change-current-expo":return Object(p.a)({},e,{currentExpo:t.currentExpo>0?t.currentExpo:1});case"change-selected-project":return Object(p.a)({},e,{selectedProject:t.projectID,judgeSelectedProject:""});case"change-judge-selected-project":return Object(p.a)({},e,{selectedProject:"",judgeSelectedProject:t.projectID});case"change-sort-by":return Object(p.a)({},e,{sortBy:t.sortBy});case"change-filter-by":return Object(p.a)({},e,{filterBy:t.filterBy});case"update-projects":return Object(p.a)({},e,{projects:t.projects});case"change-parameters":return Object(p.a)({},e,{powerGoodness:t.goodness>0?t.goodness:0,powerVariance:t.variance>0?t.variance:0,powerSkip:t.skip>0?t.skip:0});default:return e}},{currentExpo:1,selectedProject:"",judgeSelectedProject:"",powerGoodness:.5,powerSkip:.5,powerVariance:.5,projects:{},sortBy:it.Location,filterBy:void 0}),r=Object(m.a)(t,2),a=r[0],c=r[1];n.a.useEffect(function(){for(var t={},r=0,a=Object.keys(e.projects);r<a.length;r++){var n=a[r];t[+n]=Object(p.a)({},e.projects[+n],{health:o(e.projects[+n])})}c({type:"update-projects",projects:t})},[e.projects,a.powerGoodness,a.powerSkip,a.powerVariance,e.ballots]);var o=function(t){var r=0;if(e.ballots.dProjectScores[t.id]&&Object.values(e.ballots.dProjectScores[t.id]).length>0){var a={},n=Object.values(e.ballots.dProjectScores[t.id]),c=Object.values(e.categories.categories).filter(function(e){return e.isDefault})[0].id;console.log("default",c);for(var o=0,u=n;o<u.length;o++){var s=u[o],l=!0,i=!1,p=void 0;try{for(var d,m=s[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var g=d.value;e.categories.criteria[g.criteriaID].categoryID===c&&(a[g.userID]||(a[g.userID]=0),a[g.userID]+=g.score)}}catch(v){i=!0,p=v}finally{try{l||null==m.return||m.return()}finally{if(i)throw p}}}console.log("calcProjectHe",a),r+=Object.values(a).length}for(var f=0,b=Object.values(e.ballots.dJudgeQueues);f<b.length;f++){var j=b[f];j.queuedProject&&j.queuedProject.id===t.id&&r++,j.activeProjectID===t.id&&r++,j.otherProjectIDs.includes(t.id)&&r++}return r};document.onkeypress=function(t){" "===t.key&&(t.preventDefault(),function(){var t=Object.keys(e.users).map(function(e){return parseInt(e)}).reduce(function(t,r){return e.users[r].isJudging&&(e.ballots.dJudgeQueues[r]&&void 0!==e.ballots.dJudgeQueues[r].queuedProject&&0!==e.ballots.dJudgeQueues[r].queuedProject.id||t.push(r)),t},[]);if(console.log(t),t.length>0){var r=t[Math.floor(Math.random()*t.length)];console.log(r);var n=Object.values(a.projects).filter(function(t){return t.expoNumber===a.currentExpo&&(!e.ballots.dJudgeQueues[r]||t.id!==e.ballots.dJudgeQueues[r].activeProjectID&&!e.ballots.dJudgeQueues[r].otherProjectIDs.includes(t.id))&&t.categoryIDs.map(function(t){return e.categories.categories[t].company}).includes(e.users[r].company)}).sort(function(e,t){return e.health-t.health});console.log(n);var c=n[0].health,o=n.filter(function(e){return e.health===c});u(o[Math.floor(Math.random()*o.length)].id,r)}}())},n.a.useEffect(function(){var t=function(e){console.log(e.target.className),"dot"===e.target.className||e.target.className.includes("judge")||s()},r=function(e){"Escape"===e.key&&s()};return document.addEventListener("mousedown",t),document.addEventListener("keydown",r),e.subscribeQueueProject(),e.subscribeQueuedProject(),e.subscribeGotProject(),e.subscribeScoreProject(),e.subscribeBusyProject(),e.subscribeMissingProject(),e.subscribeSkipProject(),function(){document.removeEventListener("mousedown",t),document.removeEventListener("keydown",r),e.unsubscribeAll()}},[]);var u=function(t,r){e.queueProject(t,r),e.queueProjectEmit(t,r)},s=function(){c({type:"change-selected-project",projectID:""})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(mt.a,null,n.a.createElement(_.a,null,n.a.createElement(mt.a.Toggle,{as:_.a.Header,eventKey:"0"},"Filter/Sort"),n.a.createElement(mt.a.Collapse,{eventKey:"0"},n.a.createElement(_.a.Body,null,n.a.createElement("h2",null,"Sort"),n.a.createElement(J.a,{size:"sm",onClick:function(){return c({type:"change-sort-by",sortBy:it.Location})}},"By Location"),n.a.createElement(J.a,{size:"sm",onClick:function(){return c({type:"change-sort-by",sortBy:it.AverageScore})}},"By Average Score"),n.a.createElement(J.a,{size:"sm",onClick:function(){return c({type:"change-sort-by",sortBy:it.ProjectHealth})}},"By Project Health"),n.a.createElement(J.a,{size:"sm",onClick:function(){return c({type:"change-sort-by",sortBy:it.TimesJudged})}},"By Times Judged (Includes Pending/Assigned)"),n.a.createElement("h2",null,"Filter"),Object.values(e.categories.categories).reduce(function(e,t){return t.generated||e.push(n.a.createElement(J.a,{key:t.id,size:"sm",onClick:function(){return c({type:"change-filter-by",filterBy:t.id})}},"By ",t.name)),e},[])))),n.a.createElement(_.a,null,n.a.createElement(mt.a.Toggle,{as:_.a.Header,eventKey:"1"},"Expo ",a.currentExpo," | Goodness ",a.powerGoodness," | Variance ",a.powerVariance," | Skip ",a.powerSkip),n.a.createElement(mt.a.Collapse,{eventKey:"1"},n.a.createElement(_.a.Body,null,n.a.createElement(gt.a,{className:"mb-3",style:{maxWidth:150,marginRight:10}},n.a.createElement(gt.a.Text,null,"Expo #"),n.a.createElement(ft.a,{onChange:function(e){return c({type:"change-current-expo",currentExpo:+e.target.value})},type:"number",value:""+a.currentExpo})),n.a.createElement(gt.a,{className:"mb-3",style:{maxWidth:350,marginRight:10}},n.a.createElement(gt.a.Text,null,"Goodness Power"),n.a.createElement(ft.a,{onChange:function(e){return c({type:"change-parameters",goodness:+e.target.value,variance:a.powerVariance,skip:a.powerSkip})},step:"0.1",type:"number",value:""+a.powerGoodness})),n.a.createElement("p",null,"Good projects with >= 2 judges have lower health. Multiplier is taken to the (times judged * goodness power) power. 0 to disable."),n.a.createElement(gt.a,{className:"mb-3",style:{maxWidth:350,marginRight:10}},n.a.createElement(gt.a.Text,null,"Variance Power"),n.a.createElement(ft.a,{onChange:function(e){return c({type:"change-parameters",goodness:a.powerGoodness,variance:+e.target.value,skip:a.powerSkip})},step:"0.1",type:"number",value:""+a.powerVariance})),n.a.createElement("p",null,"Higher-variance projects with >= 2 judges have lower health. (5 / (5 + sstdev)) to the variancePower. 0 to disable."),n.a.createElement(gt.a,{className:"mb-3",style:{maxWidth:350,marginRight:10}},n.a.createElement(gt.a.Text,null,"Skip Power"),n.a.createElement(ft.a,{onChange:function(e){return c({type:"change-parameters",goodness:a.powerGoodness,variance:a.powerVariance,skip:+e.target.value})},step:"0.1",type:"number",value:""+a.powerSkip})),n.a.createElement("p",null,"Twice-skipped projects have lower health. Multiplier is (# skipped) to the skipPower. 0 to disable."))))),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:1300,margin:"12px auto 0"}},function(){var t=function(){var e=Object(d.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.selectedProject===t?c({type:"change-selected-project",projectID:""}):c({type:"change-selected-project",projectID:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();if(Object.values(e.tableGroups).length>0&&Object.values(a.projects).length>0){var r=Object.values(a.projects).filter(function(e){return!a.filterBy||e.categoryIDs.includes(a.filterBy)}).sort(function(t,r){var n;switch(a.sortBy){case it.AverageScore:if(!e.ballots.dProjectScores[t.id]&&!e.ballots.dProjectScores[r.id])return 0;if(!e.ballots.dProjectScores[r.id])return-1;if(!e.ballots.dProjectScores[t.id])return 1;var c=(n={},Object(H.a)(n,t.id,{}),Object(H.a)(n,r.id,{}),n),o=Object.values(e.categories.categories).filter(function(e){return a.filterBy?e.id===a.filterBy:e.isDefault})[0].id,u=Object.values(e.ballots.dProjectScores[t.id]).concat(Object.values(e.ballots.dProjectScores[r.id])),s=!0,l=!1,i=void 0;try{for(var p,d=u[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value,g=!0,f=!1,b=void 0;try{for(var j,v=m[Symbol.iterator]();!(g=(j=v.next()).done);g=!0){var h=j.value;h.status===ge.Submitted&&e.categories.criteria[h.criteriaID].categoryID===o&&(c[h.projectID][h.userID]||(c[h.projectID][h.userID]=0),c[h.projectID][h.userID]+=h.score)}}catch(P){f=!0,b=P}finally{try{g||null==v.return||v.return()}finally{if(f)throw b}}}}catch(P){l=!0,i=P}finally{try{s||null==d.return||d.return()}finally{if(l)throw i}}var y=Object.values(c[t.id]),E=Object.values(c[r.id]);console.log(y,E);var O=y.reduce(function(e,t){return e+t},0)/(y.length>0?y.length:1),w=E.reduce(function(e,t){return e+t},0)/(E.length>0?E.length:1);return console.log(O,w),O<w?1:-1;case it.ProjectHealth:return t.health-r.health;default:return 1e3*t.tableGroupID+t.tableNumber-(1e3*r.tableGroupID+r.tableNumber)}}).reduce(function(r,c){var o=e.tableGroups[c.tableGroupID];return c.expoNumber===a.currentExpo&&r.push(n.a.createElement(vt,{key:c.id,dimmed:!1,loading:!1,userID:0,project:c,tableGroup:o,selectedProject:a.selectedProject+" 0",handleSelectedProjectChange:t})),r},[]);return 0===r.length?n.a.createElement("p",null,"No projects in this expo."):r}}()),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:1300,margin:"12px auto 0"}},function(){var t=function(){var e=Object(d.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.judgeSelectedProject===t?c({type:"change-judge-selected-project",projectID:""}):c({type:"change-judge-selected-project",projectID:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object.values(e.users).sort(function(e,t){return e.company<t.company?-1:1}).reduce(function(r,c){return c.isJudging&&r.push(n.a.createElement(_.a,{key:c.id,className:"judge",style:{width:220,margin:5,cursor:"pointer"},onClick:function(){return t=c.id,console.log(a.selectedProject),0===a.selectedProject.length?null:e.ballots.dJudgeQueues[t]&&e.ballots.dJudgeQueues[t].activeProjectID===+a.selectedProject||e.ballots.dJudgeQueues[t]&&e.ballots.dJudgeQueues[t].otherProjectIDs.includes(+a.selectedProject)?null:void(e.projects[+a.selectedProject].categoryIDs.map(function(r){return e.categories.categories[r].company===e.users[t].company}).includes(!0)&&(u(+a.selectedProject,t),s()));var t}},n.a.createElement(_.a.Body,{className:"judge"},n.a.createElement(_.a.Title,{className:"judge"},c.name),n.a.createElement(_.a.Subtitle,{className:"mb-2 text-muted"},c.company),n.a.createElement("div",{style:{display:"flex",flexFlow:"wrap"}},function(r){var c=[];if(e.ballots.dJudgeQueues[r]){var o=e.ballots.dJudgeQueues[r].queuedProject;o&&0!==o.id&&e.projects[o.id]?c.push(n.a.createElement(vt,{key:o.id,dimmed:!1,loading:o.pending,tableGroup:e.tableGroups[e.projects[o.id].tableGroupID],project:a.projects[o.id],userID:r,selectedProject:a.judgeSelectedProject,onContextMenu:function(e){return console.log(e.type),e.preventDefault(),!1},handleSelectedProjectChange:function(){return t(o.id+" "+r)}})):c.push(n.a.createElement(ht,{solid:!0,key:-1}));var u=e.ballots.dJudgeQueues[r].activeProjectID;u&&e.projects[u]?c.push(n.a.createElement(vt,{key:u,dimmed:!1,loading:!1,tableGroup:e.tableGroups[e.projects[u].tableGroupID],project:a.projects[u],selectedProject:a.judgeSelectedProject,userID:r,handleSelectedProjectChange:function(){return t(u+" "+r)}})):c.push(n.a.createElement(ht,{solid:!1,key:-2}));var s=e.ballots.dJudgeQueues[r].otherProjectIDs;if(s){var l=[],i=!0,p=!1,d=void 0;try{for(var m,g=function(){var c=m.value;e.projects[c]&&l.push(n.a.createElement(vt,{key:c+" "+r,dimmed:!0,loading:!1,tableGroup:e.tableGroups[e.projects[c].tableGroupID],project:a.projects[c],userID:r,selectedProject:a.judgeSelectedProject,handleSelectedProjectChange:function(){return t(c+" "+r)}}))},f=s[Symbol.iterator]();!(i=(m=f.next()).done);i=!0)g()}catch(b){p=!0,d=b}finally{try{i||null==f.return||f.return()}finally{if(p)throw d}}c.push(l.reverse())}}else c.push([n.a.createElement(ht,{solid:!0,key:-1}),n.a.createElement(ht,{solid:!1,key:-2})]);return c}(c.id))))),r},[])}()))});!function(e){e[e.UploadProjects=0]="UploadProjects",e[e.AddProject=1]="AddProject",e[e.ManageTableGroups=2]="ManageTableGroups",e[e.None=3]="None"}(yt||(yt={}));var Ot=Object(u.b)(function(e){return{categories:e.categories,requesting:e.requesting,tableGroups:e.tableGroups,projects:e.projects,users:e.users}},function(e){return{fetchBallots:function(){return e(function(){var e=Object(d.a)(i.a.mark(function e(t){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/ballots/allBallots");case 3:if(!(r=e.sent).status){e.next=9;break}a=r.data,t(Ae(a)),e.next=10;break;case 9:throw new Error("API Error");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Promise.resolve());case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}())},fetchTableGroups:function(){return e(me())},fetchProjects:function(){return e($())},fetchUsers:function(){return e(Ve())},requestFinish:function(){return e(Oe())},requestStart:function(){return e(Ee())}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"modal-close":return Object(p.a)({},e,{modalOpen:yt.None});case"modal-open":return Object(p.a)({},e,{modalOpen:t.modal});default:return e}},{modalOpen:yt.None},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=function(){return c({type:"modal-close"})};n.a.useEffect(function(){var t=function(){var t=Object(d.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.requestStart(),t.next=3,Promise.all([e.fetchBallots(),e.fetchTableGroups(),e.fetchProjects(),e.fetchUsers()]);case 3:console.log("fetch"),e.requestFinish();case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object.values(e.users).length>0&&Object.values(e.projects).length>0&&Object.values(e.tableGroups).length>0||t()},[]);return n.a.createElement("div",{style:{margin:"12px"}},n.a.createElement("h1",{style:{textAlign:"center"}},"Projects"),e.requesting?"Loading":0===Object.values(e.users).length?"Loading":n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},n.a.createElement(be.a,null,n.a.createElement(J.a,{onClick:function(){return c({type:"modal-open",modal:yt.UploadProjects})},size:"sm"},"Upload Projects"),n.a.createElement(J.a,{onClick:function(){return c({type:"modal-open",modal:yt.ManageTableGroups})},variant:Object.values(e.tableGroups).length>0||e.requesting?"outline-primary":"danger",size:"sm"},"Manage Table Groups"),n.a.createElement(J.a,{onClick:function(){return c({type:"modal-open",modal:yt.AddProject})},variant:"outline-primary",size:"sm"},"Add Project"))),n.a.createElement("div",{style:{maxWidth:1300,margin:"12px auto 0"}},0!==Object.values(e.projects).length&&0!==Object.values(e.tableGroups).length&&0!==Object.values(e.categories.criteria).length?n.a.createElement(Et,null):null)),n.a.createElement(ot,{modalOpen:a.modalOpen===yt.UploadProjects,closeModal:o}),n.a.createElement(pt,{modalOpen:a.modalOpen===yt.ManageTableGroups,closeModal:o}),n.a.createElement(dt,{modalOpen:a.modalOpen===yt.AddProject,closeModal:o}))}),wt={name:"",isDefault:!1,generated:!1,description:"",company:"",criteria:function(){var e={};return e[-1]=Pt(-1),e}()};function Pt(e){return{id:e,name:"",rubric:"",minScore:1,maxScore:10,categoryID:-1}}var xt=function(e){var t=function(t){var r=t.target;e.updateCriteria(Object(p.a)({},e.criteria,Object(H.a)({},r.name,r.value)))};return n.a.createElement("div",{style:{marginBottom:12}},n.a.createElement("hr",null),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Criteria Name"),n.a.createElement(N.a.Control,{disabled:e.requesting,name:"name",onChange:t,value:e.criteria.name,placeholder:"Name"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Rubric"),n.a.createElement(N.a.Control,{as:"textarea",disabled:e.requesting,name:"rubric",onChange:t,value:e.criteria.rubric,placeholder:"Rubric"})),n.a.createElement(N.a.Row,null,n.a.createElement(N.a.Group,{as:ut.a},n.a.createElement(N.a.Label,null,"Min Score"),n.a.createElement(N.a.Control,{disabled:e.requesting,name:"minScore",onChange:t,type:"number",value:""+e.criteria.minScore})),n.a.createElement(N.a.Group,{as:ut.a},n.a.createElement(N.a.Label,null,"Max Score"),n.a.createElement(N.a.Control,{disabled:e.requesting,name:"maxScore",onChange:t,type:"number",value:""+e.criteria.maxScore}))),n.a.createElement(J.a,{disabled:e.requesting,onClick:function(){return e.deleteCriteria(e.criteria.id)},size:"sm",variant:"outline-danger"},"Delete Criteria"))};function kt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Ct=Object(u.b)(null,function(e){return{updateCategory:function(t){e(oe(t))},requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"increase-new-category-id":return Object(p.a)({},e,{currentNewCategoryID:e.currentNewCategoryID-1});case"update-category":return Object(p.a)({},e,{category:t.category});default:return e}},{requesting:!1,category:e.category,currentNewCategoryID:-2},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1],o=e.category;n.a.useEffect(function(){c({type:"update-category",category:e.category})},[o]);var u=function(){var t=Object(d.a)(i.a.mark(function t(){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.requestStart(),t.next=3,b.a.post("/api/categories/update",{categories:[Object(p.a)({},a.category,{criteria:Object.values(a.category.criteria).map(function(e){return{name:e.name,rubric:e.rubric,minScore:e.minScore,maxScore:e.maxScore}})})]});case 3:(r=t.sent).status&&(n=r.data,console.log(n),e.updateCategory(n),e.closeModal(),e.requestFinish());case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),s=function(){var e=a.category.criteria;e[a.currentNewCategoryID]=Pt(a.currentNewCategoryID),c({type:"increase-new-category-id"}),c({type:"update-category",category:Object(p.a)({},a.category,{criteria:e})})};return n.a.createElement(Q.a,{show:e.modalOpen,onHide:e.closeModal},n.a.createElement(Q.a.Header,{closeButton:!0},n.a.createElement(Q.a.Title,null,"Edit Category")),n.a.createElement(Q.a.Body,null,n.a.createElement(N.a,null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Category Name"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"update-category",category:Object(p.a)({},a.category,{name:e.target.value})})},value:a.category.name,type:"text",placeholder:"Name"}),n.a.createElement(N.a.Text,{className:"text-muted"},"If you are using Ballot for optional prizes, this name needs to match the Devpost output.")),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Check,{disabled:a.requesting,onChange:function(e){return c({type:"update-category",category:Object(p.a)({},a.category,{isDefault:"on"===e.target.value})})},type:"checkbox",label:"Default Category"}),n.a.createElement(N.a.Text,{className:"text-muted"},"Check this box if all submissions are eligible for this category.")),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Company"),n.a.createElement(N.a.Control,{disabled:a.requesting,name:"company",onChange:function(e){return c({type:"update-category",category:Object(p.a)({},a.category,{company:e.target.value})})},value:a.category.company,placeholder:"Company"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Category Description"),n.a.createElement(N.a.Control,{as:"textarea",disabled:a.requesting,name:"description",onChange:function(e){return c({type:"update-category",category:Object(p.a)({},a.category,{description:e.target.value})})},value:a.category.description,placeholder:"Description"})),function(){var e=function(e){c({type:"update-category",category:Object(p.a)({},a.category,{criteria:Object(p.a)({},a.category.criteria,Object(H.a)({},e.id,e))})})},t=function(e){var t=a.category.criteria,r=(t[e],Object(g.a)(t,[e].map(kt)));c({type:"update-category",category:Object(p.a)({},a.category,{criteria:r})})};return Object.values(a.category.criteria).map(function(r){return n.a.createElement(xt,{key:r.id,criteria:r,requesting:a.requesting,updateCriteria:e,deleteCriteria:t})})}(),n.a.createElement(J.a,{disabled:a.requesting,variant:"outline-primary",onClick:s},"New Criteria"))),n.a.createElement(Q.a.Footer,null,n.a.createElement(J.a,{disabled:a.requesting,onClick:e.closeModal,variant:"secondary"},"Close"),n.a.createElement(J.a,{disabled:a.requesting,onClick:u,variant:"primary"},"Save Changes")))}),Dt=r(132),It=r(231),St=Object(u.b)(function(e){return{requesting:e.requesting}},function(e){return{deleteCategory:function(t){e(function(e){return{type:te,categoryID:e}}(t))},requestFinish:function(){e(Oe())},requestStart:function(){e(Ee())}}})(function(e){var t=function(){var t=Object(d.a)(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.requestStart(),t.next=4,b.a.post("/api/categories/delete",{categoryID:e.category.id});case 4:t.sent.status&&(e.deleteCategory(e.category.id),e.requestFinish());case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return n.a.createElement(_.a,{style:{width:"44rem",margin:"12px"}},n.a.createElement(_.a.Body,null,n.a.createElement(_.a.Title,null,e.category.name,n.a.createElement("span",{style:{margin:"0 5px"}},e.category.isDefault?n.a.createElement(F.a,{variant:"primary"},"Default"):n.a.createElement(n.a.Fragment,null),e.category.generated?n.a.createElement(F.a,{variant:"secondary"},"Generated"):n.a.createElement(n.a.Fragment,null)),n.a.createElement("br",null),n.a.createElement("h6",null,e.category.company)),n.a.createElement(_.a.Text,{style:{whiteSpace:"pre-wrap"}},e.category.description)),n.a.createElement(It.a,{className:"list-group-flush"},function(){if(e.category.criteria)return Object.values(e.category.criteria).map(function(e){return n.a.createElement(Dt.a,{key:e.id},n.a.createElement("h6",null,e.name),n.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},"Scored: ",e.minScore," - ",e.maxScore,n.a.createElement("br",null),e.rubric))})}()),n.a.createElement(_.a.Body,null,n.a.createElement(be.a,null,n.a.createElement(J.a,{disabled:e.requesting,onClick:function(t){return e.openModal(t,e.category)},size:"sm",variant:"primary"},"Edit"),n.a.createElement(J.a,{disabled:e.requesting,onClick:t,size:"sm",variant:"outline-danger"},"Delete"))))}),qt=Object(u.b)(function(e){return{categories:e.categories}},function(e){return{fillCategories:function(t){e(ue(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"modal-open":return Object(p.a)({},e,{modalOpen:!0,modalCategory:t.modalCategory});case"modal-close":return Object(p.a)({},e,{modalOpen:!1});case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{modalCategory:wt,modalOpen:!1,requesting:!1},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1];n.a.useEffect(function(){o()},[]);var o=function(){var t=Object(d.a)(i.a.mark(function t(){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"request-start"}),t.next=3,b.a.get("/api/categories/allCategoriesCriteria");case 3:(r=t.sent).status&&(a=r.data,e.fillCategories(a),c({type:"request-finish"}));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return n.a.createElement("div",{style:{margin:"12px"}},n.a.createElement("h1",{style:{textAlign:"center"}},"Categories"),n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement(J.a,{size:"sm",onClick:function(){return c({type:"modal-open",modalCategory:wt})}},"New Category")),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:1e3,margin:"12px auto 0"}},function(){for(var t=function(e,t){e.preventDefault(),c({type:"modal-open",modalCategory:t})},r=[],a=[],o=0,u=Object.values(e.categories.categories);o<u.length;o++){var s=u[o];s.generated?a.push(n.a.createElement(St,{key:s.id,category:s,openModal:t})):r.push(n.a.createElement(St,{key:s.id,category:s,openModal:t}))}return n.a.createElement(n.a.Fragment,null,r,a)}(),n.a.createElement(Ct,{modalOpen:a.modalOpen,category:a.modalCategory,closeModal:function(){return c({type:"modal-close"})}})))}),Gt="/admin",Tt=Object(u.b)(function(e){return{account:e.account}},function(e){return{loginUser:function(t){e(I(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{requesting:!1},void 0),r=Object(m.a)(t,2);r[0],r[1];return n.a.createElement("div",null,n.a.createElement(Fe,null),n.a.createElement(j.d,null,n.a.createElement(j.b,{path:"".concat(Gt,"/users"),component:rt}),n.a.createElement(j.b,{path:"".concat(Gt,"/categories"),component:qt}),n.a.createElement(j.b,{exact:!0,path:"".concat(Gt),component:Ot}),n.a.createElement(j.a,{to:"".concat(Gt)})))}),Bt=Object(u.b)(function(e){return{account:e.account,companies:e.companies}},function(e){return{fetchCompanies:function(){e(tt())},loginUser:function(t){e(I(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"change-error":return Object(p.a)({},e,{error:t.error,requesting:!1});case"change-inputs":return Object(p.a)({},e,{inputs:Object(p.a)({},e.inputs,t.inputs)});case"request-start":return Object(p.a)({},e,{requesting:!0,error:{name:"",message:""}});case"request-success":return Object(p.a)({},e,{success:!0,requesting:!1});case"request-finish":return Object(p.a)({},e,{requesting:!1,success:!1});default:return e}},{requesting:!1,inputs:{name:"",email:"",password:"",passwordConfirm:"",company:""},error:{name:"",message:""},success:!1},void 0),r=Object(m.a)(t,2),a=r[0],c=r[1];n.a.useEffect(function(){e.fetchCompanies()},[]);var o=function(){var e=Object(d.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=/^[a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)*@[a-z0-9]+(-[a-z0-9]+)*(\.[a-z0-9]+(-[a-z0-9]+)*)*\.[a-z]{2,4}$/,0!==a.inputs.name.length&&0!==a.inputs.email.length&&0!==a.inputs.password.length&&0!==a.inputs.passwordConfirm.length){e.next=5;break}return c({type:"change-error",error:{name:"Error Creating Account",message:"One or more fields were left blank."}}),e.abrupt("return");case 5:if(r.test(a.inputs.email)){e.next=8;break}return c({type:"change-error",error:{name:"Error Creating Account",message:"Your email is invalid."}}),e.abrupt("return");case 8:if(a.inputs.password===a.inputs.passwordConfirm){e.next=11;break}return c({type:"change-error",error:{name:"Error Creating Account",message:"Your passwords do not match."}}),e.abrupt("return");case 11:return c({type:"request-start"}),e.next=14,b.a.post("/auth/signup",T.stringify({name:a.inputs.name,email:a.inputs.email,password:a.inputs.password,company:a.inputs.company}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 14:if(e.sent.data.status){e.next=18;break}return c({type:"change-error",error:{name:"Error Creating Account",message:"Account already exists."}}),e.abrupt("return");case 18:c({type:"request-success"});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();if(a.success)return n.a.createElement(j.a,{to:"/login"});return n.a.createElement("div",{style:{margin:"0 auto",maxWidth:400}},n.a.createElement("h1",{style:{textAlign:"center",paddingBottom:10}},"Register"),n.a.createElement(N.a,null,n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Name"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"change-inputs",inputs:{name:e.target.value}})},value:a.inputs.name,type:"text",placeholder:"George P. Beardell"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Email"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"change-inputs",inputs:{email:e.target.value}})},value:a.inputs.email,type:"email",placeholder:"beardell@hack.gt"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Password"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"change-inputs",inputs:{password:e.target.value}})},value:a.inputs.password,type:"password",placeholder:"******"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Password (confirm)"),n.a.createElement(N.a.Control,{disabled:a.requesting,onChange:function(e){return c({type:"change-inputs",inputs:{passwordConfirm:e.target.value}})},value:a.inputs.passwordConfirm,type:"password",placeholder:"******"})),n.a.createElement(N.a.Group,null,n.a.createElement(N.a.Label,null,"Company/Group Name"),n.a.createElement(N.a.Control,{as:"select",disabled:a.requesting,onChange:function(e){return c({type:"change-inputs",inputs:{company:e.target.value}})},value:a.inputs.company,type:"text",placeholder:"Company"},e.companies.map(function(e){return n.a.createElement("option",{key:e},e)}))),n.a.createElement(J.a,{variant:"primary",type:"submit",onClick:o,block:!0},a.requesting?n.a.createElement(A.a,{animation:"border",role:"status",size:"sm"}):"Register"),a.error.name?n.a.createElement(B.a,{variant:"danger"},n.a.createElement("strong",null,a.error.name),n.a.createElement("div",null,a.error.message)):null))}),Nt={maxWidth:720,margin:"0 auto"},Jt=Object(u.b)(function(e){return{account:e.account}},function(e){return{loginUser:function(t){e(I(t))}}})(function(e){var t=n.a.useReducer(function(e,t){switch(t.type){case"request-start":return Object(p.a)({},e,{requesting:!0});case"request-finish":return Object(p.a)({},e,{requesting:!1});default:return e}},{requesting:!1},void 0),r=Object(m.a)(t,2),a=(r[0],r[1],n.a.createElement("h1",null,"Welcome To Ballot!")),c=n.a.createElement("strong",null,"Your Status: ",w(e.account.role)),o=n.a.createElement("p",null,"Hello ",e.account.name,"! Thank you for using Ballot! As an owner, you have full control over every aspect of the judging and expo process. You will be able to assign tables, judges, and how projects are scored. This also means you have the potential to cause issues if you are not careful. Please make sure you have read through all the user guides before messing with the available tools."),u=n.a.createElement("p",null,"Ballot works on devices of all screen sizes! If you are using a tablet or laptop, you can use the navigation bar to navigation throughout this application. If you are on a mobile device, simply click the menu button on the upper right to access all the pages."),l=n.a.createElement("p",null,"To view all the projects at this hackathon, go to the projects page. Each project has an expo number and table number. If you tap/click on the project, you will be directed to the Devpost entry, where the group will go into more detail about the project, present videos and images, and show where you can see their project."),i=n.a.createElement("p",null,"If you go to the judging page, you will be able to judge projects as they are assigned to you. Projects will automatically be assigned to you, so all you have to do is wait for the next project to pop in. Ballot will guide you through the process and will provide you with a timer to keep you on track. You will also be presented with the judging criteria and rubric while you're scoring. "),d=(n.a.createElement("p",null,"Make sure to go to your profile to add any skills, programming languages, fields, or other keywords so that Ballot can try to optimize the projects you receive to match your experience and expertise!"),n.a.createElement("p",null,"Congratulations! You just signed up for an account; however, you are not yet approved to judge. Your page will automatically update once the admins have approved you to judge!")),g=n.a.createElement("div",{style:Nt},a,c,o,u),f=n.a.createElement("div",{style:Nt},a,c,o,u),b=n.a.createElement("div",{style:Nt},a,c,u,l,i),j=n.a.createElement("div",{style:Nt},a,c,u,l,d);switch(e.account.role){case s.Owner:return g;case s.Admin:return f;case s.Judge:return b;case s.Pending:return j}return n.a.createElement(fe,null)}),At=function(){return n.a.createElement("footer",{style:{textAlign:"center",margin:"50px 0"}},"Made with ",n.a.createElement("span",{role:"img","aria-label":"love"},"\ud83d\ude84")," by the HackGTeam")},Lt=Object(u.b)(function(e){return{account:e.account}},function(e){return{loginUser:function(t){e(I(t))}}})(function(e){var t=function(e){var t=e.component,r=e.roleNeeded,a=e.curRole,c=Object(g.a)(e,["component","roleNeeded","curRole"]);return n.a.createElement(j.b,Object.assign({},c,{render:function(e){return a>=r?n.a.createElement(t,e):n.a.createElement(j.a,{to:{pathname:"/login"}})}}))},r=n.a.useState(!1),a=Object(m.a)(r,2),c=a[0],o=a[1];return n.a.useEffect(function(){!function(){var t=Object(d.a)(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/auth/user_data");case 2:r=t.sent,e.loginUser(Object(p.a)({},r.data,{role:O(r.data.role)})),o(!0);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[e.loginUser]),c?n.a.createElement(n.a.Fragment,null,n.a.createElement(v.a,null,n.a.createElement(G,{account:e.account}),n.a.createElement("div",{style:{padding:20}},n.a.createElement(j.d,null,n.a.createElement(j.b,{path:"/login",component:L}),n.a.createElement(j.b,{path:"/logout",component:R}),n.a.createElement(j.b,{path:"/register",component:Bt}),n.a.createElement(t,{path:"/profile",component:U,roleNeeded:s.Pending,curRole:e.account.role}),n.a.createElement(t,{path:"/projects",component:fe,roleNeeded:s.Pending,curRole:e.account.role}),n.a.createElement(t,{path:"/judging",component:Ue,roleNeeded:s.Judge,curRole:e.account.role}),n.a.createElement(t,{path:"/admin",component:Tt,roleNeeded:s.Admin,curRole:e.account.role}),n.a.createElement(j.b,{path:"/",exact:!0,component:Jt}),n.a.createElement(j.a,{to:"/"})))),n.a.createElement(At,null)):n.a.createElement(A.a,{animation:"grow"})}),Mt=r(38),Rt=r(133),Ut=r(84),Ft=r.n(Ut);var _t=Object(Mt.c)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case k:case C:return t.user;default:return e}},ballots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,r=function(){var r,a;switch(t.type){case ke:for(var n=e.dJudgeProjectBallotsMap?e.dJudgeProjectBallotsMap:{},c=e.dJudgeQueues?e.dJudgeQueues:{},o=e.dProjectScores?e.dProjectScores:{},u=t.ballots,s=0,l=Object.values(u);s<l.length;s++){var i=l[s];n[i.userID]||(n[i.userID]={}),n[i.userID][i.projectID]||(n[i.userID][i.projectID]=[]),o[i.projectID]||(o[i.projectID]={}),o[i.projectID][i.userID]||i.status!==ge.Submitted||(o[i.projectID][i.userID]=[]),n[i.userID][i.projectID].push(i),i.status===ge.Submitted&&o[i.projectID][i.userID].push(i)}for(var d=function(){var e=g[m];c[+e]={queuedProject:{id:0,pending:!1},activeProjectID:0,otherProjectIDs:[]};var t=Object.keys(n[+e]).sort(function(t,r){return new Date(n[+e][+t][0].updatedAt).getTime()-new Date(n[+e][+r][0].updatedAt).getTime()}),r=!0,a=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var l=u.value,i=n[+e][+l][0];i.status===ge.Pending?c[+e].queuedProject.id=+l:i.status===ge.Started||i.status===ge.Assigned?c[+e].activeProjectID=+l:c[+e].otherProjectIDs.push(+l)}}catch(p){a=!0,o=p}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}},m=0,g=Object.keys(n);m<g.length;m++)d();return console.log(o),{v:Object(p.a)({},t.ballots,{dJudgeProjectBallotsMap:n,dJudgeQueues:c,dProjectScores:o})};case Ce:return{v:Object(p.a)({},e,t.ballots)};case De:return{v:t.ballotIDs.forEach(function(t){return delete e[t]})};case Se:console.log("queue",t);var f=e.dJudgeQueues[t.result.userID],b=e.dJudgeProjectBallotsMap;return b[t.result.userID]||(b[t.result.userID]={}),b=Object(p.a)({},e.dJudgeProjectBallotsMap,Object(H.a)({},t.result.userID,Object(p.a)({},e.dJudgeProjectBallotsMap[t.result.userID],Object(H.a)({},t.result.projectID,Object(p.a)({},e.dJudgeProjectBallotsMap[t.result.userID][t.result.projectID]))))),{v:Object(p.a)({},e,{dJudgeQueues:Object(p.a)({},e.dJudgeQueues,Object(H.a)({},t.result.userID,Object(p.a)({},f,{activeProjectID:f?f.activeProjectID:0,otherProjectIDs:f?f.otherProjectIDs:[],queuedProject:{id:t.result.projectID,pending:!0}}))),dJudgeProjectBallotsMap:b})};case qe:var j=Object(p.a)({},e,t.result.newBallots,{dJudgeQueues:Object(p.a)({},e.dJudgeQueues,Object(H.a)({},t.result.userID,Object(p.a)({},e.dJudgeQueues[t.result.userID],{queuedProject:{id:t.result.projectID,pending:!1}}))),dJudgeProjectBallotsMap:Object(p.a)({},e.dJudgeProjectBallotsMap,Object(H.a)({},t.result.userID,Object(p.a)({},e.dJudgeProjectBallotsMap[t.result.userID],Object(H.a)({},t.result.projectID,Object(p.a)({},e.dJudgeProjectBallotsMap[t.result.userID][t.result.projectID],t.result.newBallots)))))}),v=!0,h=!1,y=void 0;try{for(var E,O=t.result.removedBallotIDs[Symbol.iterator]();!(v=(E=O.next()).done);v=!0)delete j[E.value]}catch(Z){h=!0,y=Z}finally{try{v||null==O.return||O.return()}finally{if(h)throw y}}return{v:j};case Te:console.log(t.result);var w=Object.keys(t.result.newBallots)[0],P=t.result.newBallots[w],x=P.userID,k=P.projectID;return{v:Object(p.a)({},e,t.result.newBallots,{dJudgeProjectBallotsMap:Object(p.a)({},e.dJudgeProjectBallotsMap,Object(H.a)({},x,Object(p.a)({},e.dJudgeProjectBallotsMap[x],Object(H.a)({},k,Object(p.a)({},e.dJudgeProjectBallotsMap[x][k],t.result.newBallots))))),dJudgeQueues:Object(p.a)({},e.dJudgeQueues,Object(H.a)({},x,Object(p.a)({},e.dJudgeQueues[x],{queuedProject:void 0,activeProjectID:P.projectID})))})};case Ge:console.log(t.result);var C=Object.keys(t.result.newBallots)[0],D=Object.values(t.result.newBallots),I=t.result.newBallots[C],S=I.userID,q=I.projectID,G=e.dJudgeQueues[S].otherProjectIDs;G.includes(q)||G.push(q);var T=e.dProjectScores;return e.dProjectScores[q]||(T[q]={}),e.dProjectScores[q][S]||(T[q][S]=[]),(r=T[q][S]).push.apply(r,Object(we.a)(D)),{v:Object(p.a)({},e,t.result.newBallots,{dJudgeProjectBallotsMap:Object(p.a)({},e.dJudgeProjectBallotsMap,Object(H.a)({},S,Object(p.a)({},e.dJudgeProjectBallotsMap[S],Object(H.a)({},q,Object(p.a)({},e.dJudgeProjectBallotsMap[S][q],t.result.newBallots))))),dJudgeQueues:Object(p.a)({},e.dJudgeQueues,Object(H.a)({},S,Object(p.a)({},e.dJudgeQueues[S],{activeProjectID:0,otherProjectIDs:G}))),dProjectScores:T})};case Ne:console.log(t.result);var B=Object.keys(t.result.newBallots)[0],N=Object.values(t.result.newBallots),J=t.result.newBallots[B],A=J.userID,L=J.projectID,M=e.dJudgeQueues[A].otherProjectIDs;M.includes(L)||M.push(L);var R=e.dProjectScores;return e.dProjectScores[L]||(R[L]={}),e.dProjectScores[L][A]||(R[L][A]=[]),(a=R[L][A]).push.apply(a,Object(we.a)(N)),{v:Object(p.a)({},e,t.result.newBallots,{dJudgeProjectBallotsMap:Object(p.a)({},e.dJudgeProjectBallotsMap,Object(H.a)({},A,Object(p.a)({},e.dJudgeProjectBallotsMap[A],Object(H.a)({},L,Object(p.a)({},e.dJudgeProjectBallotsMap[A][L],t.result.newBallots))))),dJudgeQueues:Object(p.a)({},e.dJudgeQueues,Object(H.a)({},A,Object(p.a)({},e.dJudgeQueues[A],{activeProjectID:0,otherProjectIDs1:M}))),dProjectScores:R})};case Be:console.log(t.result.ballotsToRemove,e);var U=e;return t.result.ballotsToRemove.forEach(function(t){delete e.dJudgeProjectBallotsMap[e[t].userID][e[t].projectID][t],e.dJudgeQueues[e[t].userID].activeProjectID=0,delete U[t]}),{v:Object(p.a)({},U,{dJudgeProjectBallotsMap:e.dJudgeProjectBallotsMap,dJudgeQueues:e.dJudgeQueues})};case Je:var F=t.result.newBallots,_=Object.keys(F).map(function(e){return parseInt(e)}),Q=!0,z=!1,W=void 0;try{for(var V,Y=_[Symbol.iterator]();!(Q=(V=Y.next()).done);Q=!0){var K=V.value,X=F[K].userID,$=F[K].projectID;e.dJudgeProjectBallotsMap[X][$]=Object.values(F),e.dJudgeQueues[X].activeProjectID=0,e.dJudgeQueues[X].otherProjectIDs.push(K)}}catch(Z){z=!0,W=Z}finally{try{Q||null==Y.return||Y.return()}finally{if(z)throw W}}return{v:Object(p.a)({},e,F,{dJudgeProjectBallotsMap:e.dJudgeProjectBallotsMap,dJudgeQueues:e.dJudgeQueues})};case Ne:return console.log("implement state chage"),{v:e};case Ie:return{v:Me};default:return{v:e}}}();if("object"===typeof r)return r.v},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{criteria:{},categories:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(p.a)({},e,{categories:Object(p.a)({},e.categories,t.categories)});case te:var r=e.categories,a=t.categoryID,n=(r[a],Object(g.a)(r,[a].map(Z)));return Object(p.a)({},e,{categories:n});case re:for(var c={},o=t.categories,u=0,s=Object.values(o);u<s.length;u++)for(var l=s[u],i=0,d=Object.values(l.criteria);i<d.length;i++){var m=d[i];c[m.id]=Object(p.a)({},m,{categoryID:l.id})}return{criteria:c,categories:t.categories};case ae:return{categories:Object(p.a)({},e.categories,Object(H.a)({},t.critera.categoryID,Object(p.a)({},e.categories[t.critera.categoryID],{criteria:Object(p.a)({},t.criteria)}))),criteria:Object(p.a)({},e.criteria,t.criteria)};case ne:var f=e.categories[e.criteria[t.criteriaID].categoryID].criteria,b=t.criteriaID,j=(f[b],Object(g.a)(f,[b].map(Z))),v=e.criteria,h=t.criteriaID,y=(v[h],Object(g.a)(v,[h].map(Z)));return{categories:Object(p.a)({},e.categories,Object(H.a)({},t.criteria.categoryID,{critera:j})),criteria:y};case ce:return Object(p.a)({},e,{categories:Object(p.a)({},e.categories,Object(H.a)({},t.criteria.categoryID,Object(p.a)({},e.categories[t.criteria.categoryID],{criteria:t.criteria}))),criteria:Object(p.a)({},e.criteria,t.criteria)});default:return e}},companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return t.companies;default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(p.a)({},e,Object(H.a)({},t.project.id,t.project));case V:var r=t.projectID;return e[r],Object(g.a)(e,[r].map(z));case Y:return t.projects;case K:return Object(p.a)({},e,t.projects);default:return e}},requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case he:return!0;case ye:return!1;default:return e}},tableGroups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(p.a)({},e,Object(H.a)({},t.tableGroup.id,t.tableGroup));case ie:var r=t.tableGroupID;return e[r],Object(g.a)(e,[r].map(se));case pe:return t.tableGroups;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:case He:return Object(p.a)({},e,Object(H.a)({},t.user.id,t.user));case Qe:var r=e;return delete r[t.id],r;case ze:return t.users;default:return e}}}),Qt="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Mt.d,Ht=Object(Mt.e)(_t,Object(Mt.d)(Object(Mt.a)(Rt.a,function(){var e=Ft()();return function(t){var r=t.dispatch;return function(t){return function(a){if("function"===typeof a)return t(a);var n=a.event,c=a.leave,o=a.emit,u=a.payload,s=a.handle,l=a.update,i=Object(g.a)(a,["event","leave","emit","payload","handle","update"]);if(console.log(a),l)e=Ft()({forceNew:!0});else{if(!n)return t(a);if(c&&e.removeAllListeners(),!o){var d=s;return"string"===typeof d&&(d=function(e){return r(Object(p.a)({type:s,result:e},i))}),e.on(n,d)}e.emit(n,u)}}}}}()),Qt()));o.a.render(n.a.createElement(u.a,{store:Ht},n.a.createElement(Lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,1,2]]]);
//# sourceMappingURL=main.0c38c468.chunk.js.map